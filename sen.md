# Список вопросов и ответов для собеседования на позицию Python-разработчик (Senior) [(на базу)](база.md)

### 1. Архитектура и проектирование

#### Q1: Какие принципы SOLID вы знаете? Приведите примеры их применения.
1. **Single Responsibility Principle (SRP):** Каждый класс должен иметь одну ответственность. Например, класс `User` отвечает только за данные пользователя.
2. **Open/Closed Principle (OCP):** Классы должны быть открыты для расширения, но закрыты для модификации. Например, добавление нового типа оплаты через наследование.
3. **Liskov Substitution Principle (LSP):** Подклассы должны быть заменяемыми для своих базовых классов. Например, метод `calculate_area` в классе `Rectangle` и его подклассе `Square`.
4. **Interface Segregation Principle (ISP):** Интерфейсы должны быть маленькими и специализированными. Например, разделение интерфейса `Printer` на `Printable` и `Scannable`.
5. **Dependency Inversion Principle (DIP):** Модули высокого уровня не должны зависеть от модулей низкого уровня. Например, использование DI для внедрения зависимостей.

---

#### Q2: Что такое паттерн Dependency Injection (DI)? Зачем он нужен?
DI — это паттерн, при котором зависимости передаются в класс извне, а не создаются внутри него. Это упрощает тестирование и делает код более гибким.

Пример:
```Python
class Database:
    def connect(self):
        return "Connected"

class Service:
    def __init__(self, db):
        self.db = db

    def operation(self):
        return self.db.connect()

db = Database()
service = Service(db)
print(service.operation())  # Connected
```
---

#### Q3: Как вы выбираете между микросервисной и монолитной архитектурой?
- **Монолит:** Лучше для небольших проектов, проще разрабатывать и тестировать.
- **Микросервисы:** Подходят для больших проектов, обеспечивают масштабируемость и независимость команд.

---

### 2. Производительность и оптимизация

#### Q4: Как вы находите узкие места в производительности?
1. Использую профилировщики (например, cProfile, Py-Spy).
2. Анализирую логи и метрики.
3. Проверяю алгоритмы и структуры данных.
4. Оптимизирую I/O-операции (например, использование асинхронности).

---

#### Q5: Что такое memory profiling? Какие инструменты вы использовали?
Memory profiling помогает анализировать использование памяти. Инструменты:
- `memory_profiler`: Для анализа использования памяти строками кода.
- `tracemalloc`: Для отслеживания распределения памяти.

Пример:
```Python
from memory_profiler import profile

@profile
def my_func():
    a = [1] * (10**6)
    b = [2] * (2 * 10**7)
    del b
    return a

my_func()
```
---

### 3. Базы данных

#### Q6: Как вы решаете проблемы с производительностью баз данных?
1. Добавляю индексы.
2. Оптимизирую запросы (например, избегаю N+1 проблем).
3. Использую кэширование (например, Redis).
4. Разделяю нагрузку (sharding, replication).

---

#### Q7: Что такое CQRS и Event Sourcing?
- **CQRS (Command Query Responsibility Segregation):** Разделение операций чтения и записи в разных моделях.
- **Event Sourcing:** Хранение изменений состояния системы как последовательность событий.

---

### 4. Веб-разработка

#### Q8: Как вы обеспечиваете безопасность веб-приложений? 
1. Защита от SQL-инъекций (параметризованные запросы).
2. Защита от XSS (валидация входных данных, экранирование вывода).
3. Использование HTTPS.
4. Защита от CSRF (токены).
5. Управление CORS.

---

#### Q9: Как работает OAuth 2.0? Где вы его использовали?
OAuth 2.0 — это протокол авторизации, который позволяет приложениям получать ограниченный доступ к ресурсам пользователя без передачи учетных данных.

Пример использования:
- Авторизация через Google/Facebook.

---

### 5. Асинхронность и многопоточность

#### Q10: Как вы выбираете между asyncio, threading и multiprocessing? 
- **asyncio:** Для I/O-bound задач.
- **threading:** Для I/O-bound задач, если нет возможности использовать asyncio.
- **multiprocessing:** Для CPU-bound задач.

---

#### Q11: Что такое race condition? Как предотвратить?
Race condition возникает, когда несколько потоков/процессов пытаются изменить общие данные одновременно. Предотвращение:
- Использование блокировок (`threading.Lock`).
- Атомарные операции.

---

### 6. Тестирование

#### Q12: Как вы тестируете асинхронный код?
Использую `pytest-asyncio` или `unittest.IsolatedAsyncioTestCase`.

Пример:
```Python
import pytest

@pytest.mark.asyncio
async def test_async_function():
    result = await async_function()
    assert result == "expected"
```
---

#### Q13: Что такое контрактное тестирование?
Контрактное тестирование проверяет соответствие между сервисами (например, между клиентом и API). Инструменты: Pact, Spring Cloud Contract.

---

### 7. DevOps и CI/CD

#### Q14: Как вы организуете CI/CD pipeline?
1. Автоматическая сборка и тестирование.
2. Деплой в staging и production.
3. Мониторинг и обратная связь.

Инструменты:
- GitHub Actions, GitLab CI/CD.
- Docker, Kubernetes.

---

#### Q15: Как вы мониторите приложение в production?
1. Использую Prometheus/Grafana для метрик.
2. Sentry для логирования ошибок.
3. APM (Application Performance Monitoring) инструменты.

---

### 8. Работа с большими данными

#### Q16: Как вы обрабатываете большие объемы данных?
1. Использую библиотеки: Pandas, Dask, PySpark.
2. Распараллеливаю задачи.
3. Храним данные в BigQuery, S3.

---

#### Q17: Что такое ETL? Где вы его использовали?
ETL (Extract, Transform, Load) — процесс извлечения данных, их преобразования и загрузки в целевую систему. Пример: загрузка данных из CSV в базу данных.

---

### 9. Общие вопросы

#### Q18: Как вы выбираете технологии для проекта?
1. Анализ требований.
2. Оценка существующих решений.
3. Сравнение производительности, сложности и стоимости.
4. Учет командных навыков.

---

#### Q19: Как вы обучаетесь новым технологиям?
1. Читаю документацию.
2. Изучаю исходный код.
3. Участвую в конференциях и курсах.
4. Экспериментирую на личных проектах.

---

#### Q20: Как вы решаете конфликты в команде?
1. Открыто обсуждаю проблему.
2. Ищу компромисс.
3. Учитываю мнения всех участников.
4. Фокусируюсь на целях проекта.

---

### 10. Архитектура и проектирование

#### Q21: Что такое Domain-Driven Design (DDD)? Как вы его применяете?
DDD — это подход к разработке программного обеспечения, который фокусируется на моделировании бизнес-логики через "домены" (области знаний). Основные концепции:
- **Entities:** Объекты с уникальной идентичностью.
- **Value Objects:** Объекты без уникальной идентичности.
- **Aggregates:** Группы связанных объектов.
- **Repositories:** Абстракция для доступа к данным.

Применение:
- Использую DDD для сложных проектов, где важно четкое разделение бизнес-логики.
- Создаю bounded contexts для изоляции доменов.

---

#### Q22: Что такое Clean Architecture? В чем ее преимущества?
Clean Architecture — это архитектурный подход, который разделяет код на слои:
1. **Entities:** Бизнес-логика.
2. **Use Cases:** Сценарии использования.
3. **Controllers/Gateways:** Интерфейсы для взаимодействия с внешним миром.
4. **Frameworks/Drivers:** Инфраструктура (например, базы данных).

Преимущества:
- Независимость от фреймворков.
- Легкость тестирования.
- Масштабируемость.

---

### 2. Производительность и оптимизация

#### Q23: Как вы работаете с большими файлами в Python? 
1. Читаю файлы построчно или использую генераторы.
2. Использую библиотеки: `pandas` (chunking), `dask`.
3. Оптимизирую использование памяти (например, типы данных).

Пример:
```Python
with open("large_file.txt") as f:
    for line in f:
        process(line)
```
---

#### Q24: Что такое JIT-компиляция? Какие инструменты вы использовали?
JIT (Just-In-Time) компиляция преобразует код в машинный язык во время выполнения. Инструменты:
- **PyPy:** Альтернативная реализация Python с JIT.
- **Numba:** Для ускорения численных вычислений.

---

### 3. Базы данных

#### Q25: Разница между OLTP и OLAP? 
- **OLTP (Online Transaction Processing):** Системы для операций в реальном времени (например, банковские транзакции).
- **OLAP (Online Analytical Processing):** Системы для анализа больших объемов данных (например, BI-отчеты).

---

#### Q26: Как вы решаете проблемы с миграциями баз данных?
1. Использую инструменты: Alembic, Django Migrations.
2. Тестирую миграции на staging.
3. Применяю rollback-стратегии.
4. Минимизирую downtime (например, blue-green deployment).

---

### 4. Веб-разработка

#### Q27: Что такое WebSockets? Где вы их использовали?
WebSockets — это протокол для двусторонней связи между клиентом и сервером. Примеры использования:
- Реалтайм чаты.
- Уведомления.
- Онлайн игры.

Пример:
```Python
from fastapi import WebSocket

@app.websocket("/ws")
async def websocket_endpoint(websocket: WebSocket):
    await websocket.accept()
    while True:
        data = await websocket.receive_text()
        await websocket.send_text(f"Message received: {data}")
```
---

#### Q28: Как вы защищаете API от DDoS-атак?
1. Ограничиваю частоту запросов (rate limiting).
2. Использую CDN (например, Cloudflare).
3. Настройка WAF (Web Application Firewall).
4. Масштабирование серверов.

---

### 5. Асинхронность и многопоточность

#### Q29: Что такое Task Queues? Какие инструменты вы использовали?
Task Queues позволяют выполнять задачи асинхронно. Инструменты:
- **Celery:** Для распределенных задач.
- **RQ (Redis Queue):** Простая очередь на Redis.
- **Dramatiq:** Альтернатива Celery.

Пример:
```Python
from celery import Celery

app = Celery('tasks', broker='redis://localhost')

@app.task
def add(x, y):
    return x + y

add.delay(4, 6)
```
---

#### Q30: Что такое Actor Model? Где вы его применяли?
Actor Model — это модель параллельного программирования, где "акторы" общаются через сообщения. Инструменты:
- **Akka (Java/Scala):** Популярная реализация.
- **Pykka:** Реализация для Python.

---

### 6. DevOps и CI/CD

#### Q31: Как вы управляете секретами в проекте?
1. Использую инструменты: HashiCorp Vault, AWS Secrets Manager.
2. Храню секреты в переменных окружения.
3. Использую `.env` файлы (с `.gitignore`).

---

#### Q32: Что такое Infrastructure as Code (IaC)? Какие инструменты вы использовали?
IaC позволяет управлять инфраструктурой через код. Инструменты:
- **Terraform:** Для создания и управления ресурсами.
- **Ansible:** Для конфигурации серверов.
- **AWS CloudFormation:** Для AWS.

---

### 7. Работа с большими данными

#### Q33: Что такое MapReduce? Где вы его использовали?
MapReduce — это модель программирования для обработки больших данных. Пример:
- **Map:** Преобразование данных.
- **Reduce:** Агрегация данных.

Инструменты:
- **Hadoop:** Распределенная реализация MapReduce.
- **PySpark:** Python API для Spark.

---

#### Q34: Как вы работаете с потоковыми данными?
1. Использую Kafka для обработки потоков.
2. Применяю Apache Flink для анализа в реальном времени.
3. Храню данные в Kinesis (AWS).

---

### 8. Общие вопросы

#### Q35: Как вы оцениваете сложность задач?
1. Анализ требований.
2. Разделение задачи на подзадачи.
3. Оценка времени для каждой подзадачи.
4. Учет рисков.

---

#### Q36: Как вы документируете код и API?
1. Использую Sphinx для документации Python-кода.
2. Документирую API с помощью OpenAPI/Swagger.
3. Пишу README для проектов.

---

#### Q37: Как вы работали с legacy-кодом?
1. Провожу анализ кода.
2. Пишу тесты для существующего функционала.
3. Рефакторю поэтапно.
4. Добавляю логирование и мониторинг.
